<p>habilidades works!</p>

<!-- HEADER -->
<div class="flex items-center justify-between p-5">
  <span class="text-2xl">Lista de Habilidades</span>

  <div class="flex gap-5">
    <p-button label="Árvore" icon="pi pi-sitemap" routerLink="arvore-interativa" />
    <p-button label="Nova habilidade" icon="pi pi-plus" (onClick)="showDialog()" />
  </div>
</div>

<!-- FILTERS -->
<div class="flex items-center gap-5 p-5">
  <p-inputgroup>
    <p-inputgroup-addon>
      <i class="pi pi-search"></i>
    </p-inputgroup-addon>
    <input pInputText [(ngModel)]="pesquisa" placeholder="Pesquise pelo Nome ou Descrição" />
  </p-inputgroup>

  <p-inputgroup>
    <p-inputgroup-addon>
      <i class="pi pi-box"></i>
    </p-inputgroup-addon>
    <p-select [(ngModel)]="selectedTipo" [options]="tiposHabilidades$" optionValue="Id" optionLabel="Tipo" placeholder="Tipo da Habilidade" />
  </p-inputgroup>

  <p-inputgroup>
    <p-inputgroup-addon>
      <i class="pi pi-user"></i>
    </p-inputgroup-addon>
    <p-select [(ngModel)]="selectedRaca" [options]="racas$" optionValue="Id" optionLabel="Nome" placeholder="Exclusiva de Raça" />
  </p-inputgroup>

  <p-inputgroup>
    <p-inputgroup-addon>
      <i class="pi pi-hammer"></i>
    </p-inputgroup-addon>
    <p-select [(ngModel)]="selectedClasse" [options]="classes$" optionValue="Id" optionLabel="Nome" placeholder="Exclusiva de Classe" />
  </p-inputgroup>
</div>

<!-- LIST -->
<div class="flex items-center justify-between p-5">
  <p-table [value]="habilidades$ ?? []" class="w-full" >
    <ng-template #header>
      <tr>
        <th>Nome</th>
        <th>Descrição</th>
        <th>Nível</th>
        <th>Tipo</th>
      </tr>
    </ng-template>

    <ng-template #body let-habilidade>
      <tr>
        <td>{{ habilidade.Nome }}</td>
        <td>{{ habilidade.DescricaoCurta }}</td>
        <td>{{ habilidade.Nivel }}</td>
        <td>{{ habilidade.Tipo }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>


<!-- TEMPLATES -->
<p-dialog header="Edição de habilidade" [modal]="true" [(visible)]="visible" class="w-1/2" styleClass="w-1/2">
  @if (visible) {
    <cadastro-modal [skill]="null" (onCancel)="visible = false" (onSave)="$event ? visible = false : null" (emitValue)="addToList($event)" />
  }
</p-dialog>
<!-- TEMPLATES -->