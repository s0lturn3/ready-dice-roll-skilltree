<div class="flex items-center justify-center h-full w-full">
  <p-card [style]="{ width: '30rem', overflow: 'hidden', padding: '1rem' }" >
    <ng-template #subtitle>
      <div class="">
        Selecione uma das campanhas cadastradas e informe seu personagem dentro dela
      </div>
    </ng-template>

    <form [formGroup]="form" class="flex flex-col gap-3 my-5">
      <div class="control">
        <p-inputgroup>
          <p-inputgroup-addon>
            <i class="pi pi-globe"></i>
          </p-inputgroup-addon>
          <p-select [options]="campanhas$" [loading]="!campanhas$" optionLabel="Nome" optionValue="Nome" placeholder="Campanha" formControlName="Campanha" 
            [ngClass]="{ 'ng-invalid ng-dirty': FormUtils.isInvalidControlName('Campanha', form) }" />
        </p-inputgroup>
        @if (FormUtils.isInvalidControlName('Campanha', form)) {
          <p-message severity="error" variant="simple" size="small">Obrigatório selecionar uma Campanha</p-message>
        }
      </div>

      <div class="control">
        <p-inputgroup>
          <p-inputgroup-addon>
            <i class="pi pi-user"></i>
          </p-inputgroup-addon>
          <input pInputText placeholder="Personagem" formControlName="Personagem"
            [ngClass]="{ 'ng-invalid ng-dirty': FormUtils.isInvalidControlName('Personagem', form) }" />
        </p-inputgroup>
        @if (FormUtils.isInvalidControlName('Personagem', form)) {
          <p-message severity="error" variant="simple" size="small">Obrigatório informar um Personagem</p-message>
        }
      </div>
    </form>

    <ng-template #footer>
      <div class="flex justify-center gap-4 mt-3 w-full">
        <p-button label="ENTRAR" icon="pi pi-user" class="w-full" styleClass="w-full" [loading]="loading" (onClick)="login()" iconPos="right" />
      </div>
    </ng-template>
  </p-card>
</div>

<p-toast position="top-center" key="tc" />